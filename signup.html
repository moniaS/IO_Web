<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>Sign up to Driving School!</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/main.css" type="text/css" rel="stylesheet" media="screen,projection"/>

 <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>
 <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-app.js"></script>
 <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-auth.js"></script>
 <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-database.js"></script>
 <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-messaging.js"></script>
 <script src="js/custom.js"></script>
</head>
<body>
  <div class="form-wrap">
  <h2>Register</h2>
  <div class="form">
      <input type="text" placeholder="Email" id="email" />
      <input type="password" placeholder="Password" id="password" />
      <input type="password" placeholder="Password" id="confirmedPassword"></input>
      <div class="passwordError">Your entered passwords differ</div>
      <button id="signUp"> Sign up </button>
      <a href="login.html"> <p>Already have an account? Log in</p></a>
    </div>
  </div>
</body>

  <!--  Scripts-->
   <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.js"></script>
    <script src="js/init.js"></script>
  <script>
    var ref = firebase.database().ref();

    $("#signUp").on("click", function() {
       var email = $("#email").val();
       var password = $("#password").val();
       var confirmedPassword = $("#confirmedPassword").val();
       if(email === "" || password === "" || confirmedPassword === "") {
          $(".passwordError").html("You have to fill all fields");
          $(".passwordError").slideDown();
          return false;
       } else {
          $(".passwordError").slideDown();
       }

       if(password != confirmedPassword) {
          $(".passwordError").html("Your entered passwords differ");
          $(".passwordError").slideDown();
          return false;
       } else {
          $(".passwordError").slideDown();
       }
       firebase.auth().createUserWithEmailAndPassword(email, password).then(function() {
            alert('Register successful');
         }, function(error) {
            alert('Register failed');
        });;
        $(".form-wrap input").each(function() {
          $(this).val("");
        });
    });
  </script>


  </body>
</html>
